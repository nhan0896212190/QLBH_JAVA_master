CREATE DATABASE PROJECTJAVA;

USE PROJECTJAVA;

CREATE TABLE KHACHHANG
(
	MAKH INT PRIMARY KEY,
    TENKH NVARCHAR(40) ,
    DIACHI NVARCHAR(50),
    SDT VARCHAR(11) 
);
CREATE TABLE NHANVIEN
(
	MANV INT PRIMARY KEY,
    TENNV NVARCHAR(40) ,
    GIOITINH VARCHAR(5),
    NGAYSINH DATE,
    DIACHI NVARCHAR(50),
    SDT VARCHAR(11),
    USERNAME VARCHAR(20),
    PASSWORD VARCHAR(20)
);

INSERT INTO 
	NHANVIEN(MANV,TENNV,GIOITINH,NGAYSINH,DIACHI,SDT,USERNAME,PASSWORD)
VALUES 
	(1,N'Phan Khánh Duy',N'Nam','2000-10-05',N'Quận 7, TP.HCM','0385991471','admin1','admin1'),
    (2,N'Nguyễn Hữu An',N'Nam','2000-10-06',N'Quận 7, TP.HCM','0385991472','admin2','admin2'),
    (3,N'Phạm Minh Hiếu',N'Nam','2000-10-07',N'Quận 7, TP.HCM','0385991473','admin3','admin3'),
    (4,N'Bạch Long Vũ',N'Nam','2000-10-08',N'Quận 7, TP.HCM','0385991474','admin4','admin4'),
    (5,N'Nguyễn Văn A',N'Nam','2000-10-09',N'Quận 7, TP.HCM','0385991475','user5','user5'),
    (6,N'Nguyễn Văn B',N'Nam','2000-10-10',N'Quận 7, TP.HCM','0385991476','user6','user6'),
    (7,N'Nguyễn Văn C',N'Nam','2000-10-11',N'Quận 7, TP.HCM','0385991477','user7','user7'),
    (8,N'Nguyễn Văn D',N'Nam','2000-10-12',N'Quận 7, TP.HCM','0385991478','user8','user8');
	
CREATE TABLE MATHANG
(
	MAMH INT PRIMARY KEY,
    TENMH NVARCHAR(50),
    HINHANH VARCHAR(100) DEFAULT NULL,
    TONKHO INT CHECK (TONKHO>=0),
    GIABAN INT CHECK (GIABAN>0),
    NHOMHANG NVARCHAR(30),
    NHACUNGCAP NVARCHAR(50)
);

CREATE TABLE HOADON
(
	SOHD INT PRIMARY KEY,
    NGAYBAN DATE,
    MAKH INT,
    MANV INT
);

CREATE TABLE CHITIETHOADON
(
	SOHD INT,
    MAMH INT,
    SOLUONG INT CHECK (SOLUONG>0),
    PRIMARY KEY(SOHD,MAMH)
);

CREATE TABLE DOANHTHU
(
	NGAY DATE PRIMARY KEY,
	SOLUONG INT,
    TIEN INT
);